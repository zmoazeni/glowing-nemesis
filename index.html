<!doctype html>
<html lang='en'>
<head>
  <meta charset="utf-8">

  <title>Street Singer</title>
  <link rel="stylesheet" type="text/css" href="css/bookblock.css" />
  <link rel="stylesheet" type="text/css" href="css/main.css" />
  <link rel='stylesheet' type='text/css' href='css/csshake.min.css' />

  <script src="js/modernizr.custom.js"></script>
</head>
<body>

  <div id="bb-bookblock" class="bb-bookblock">
    <div class="bb-item"><img src='img/0.jpg' /></div>

    <!-- blanka -->
    <div class="bb-item"><img src='img/1.jpg' /></div>
    <div class="bb-item"><img src='img/2.jpg' /></div>
    <div class="bb-item"><img src='img/3.jpg' /></div>
    <div class="bb-item"><img src='img/4.jpg' /></div>
    <div class="bb-item"><img src='img/5.jpg' /></div>

    <!-- sagat -->
    <div class="bb-item"><img src='img/6.jpg' /></div>
    <div class="bb-item"><img src='img/7.jpg' /></div>
    <div class="bb-item"><img src='img/8.jpg' /></div>

    <!-- zangief -->
    <div class="bb-item"><img src='img/9.jpg' /></div>
    <div class="bb-item"><img src='img/10.jpg' /></div>
    <div class="bb-item"><img src='img/11.jpg' /></div>

    <!-- guile -->
    <div class="bb-item"><img src='img/12.jpg' /></div>
    <div class="bb-item"><img src='img/13.jpg' /></div>
    <div class="bb-item"><img src='img/14.jpg' /></div>

    <!-- balrog -->
    <div class="bb-item"><img src='img/15.jpg' /></div>
    <div class="bb-item"><img src='img/16.jpg' /></div>
    <div class="bb-item"><img src='img/17.jpg' /></div>
    <div class="bb-item"><img src='img/18.jpg' /></div>
    <div class="bb-item"><img src='img/19.jpg' /></div>
    <div class="bb-item"><img src='img/20.jpg' /></div>
    <div class="bb-item"><img src='img/21.jpg' /></div>
    <div class="bb-item"><img src='img/22.jpg' /></div>

    <!-- blanka -->
    <div class="bb-item"><img src='img/23.jpg' /></div>
    <div class="bb-item"><img src='img/24.jpg' /></div>
    <div class="bb-item"><img src='img/25.jpg' /></div>

    <!-- end -->
    <div class="bb-item"><img src='img/26.jpg' /></div>

    <div class="bb-item">
      <h2>Happy Birthday Lettini!</h2>

      <h3>Special thanks to:</h3>
      <ul>
        <li>Christopher</li>
        <li>Calina</li>
        <li>Arun</li>
        <li>Patrick</li>
      </ul>

    </div>
  </div>

  <div style='margin-top: 100px'>
    <button type="button" class="js-prev">
      <--
    </button>


    <button type="button" class="js-next">
      -->
    </button>
  </div>

  <div id='js-songs'>
    <div class='js-song js-song-hello' style='display: none'>
      <iframe width="400" height="80" src="https://rd.io/i/QEV5K6kpJQ/" frameborder="0"></iframe>
    </div>

    <div class='js-song js-song-feeling' style='display: none'>
      <iframe width="400" height="80" src="https://rd.io/i/QEV5K1tCyA/" frameborder="0"></iframe>
    </div>

    <div class='js-song js-song-danger' style='display: none'>
      <iframe width="400" height="80" src="https://rd.io/i/QEV5K294Jg/" frameborder="0"></iframe>
    </div>

    <div class='js-song js-song-bohemian' style='display: none'>
      <iframe width="400" height="80" src="https://rd.io/i/QEV5KwQyZw/" frameborder="0"></iframe>
    </div>

    <div class='js-song js-song-forever' style='display: none'>
      <iframe width="400" height="80" src="https://rd.io/i/QEV5K0Fv30c/" frameborder="0"></iframe>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="js/jquerypp.custom.js"></script>
  <script src="js/jquery.bookblock.js"></script>
  <script src="js/cheatcode.js"></script>
  <script>
    $(function() {
      var songList = {
        7:  '.js-song-hello',
        10: '.js-song-feeling',
        13: '.js-song-danger',
        16: '.js-song-bohemian',
        20: '.js-song-forever'
      }

      var currentPage = 0;

      var codeList = {
        5: ['right', 'right', 'down'],
        8: ['right', 'right', 'down', 'a'],
        11: ['right', 'up', 'down', 'a', 'b', 'right'],
        14: ['right', 'left', 'down', 'a', 'b', 'up', 'right', 'a'],
        18: ['right', 'a', 'up', 'a', 'a', 'up', 'up', 'down', 'b', 'left', 'a'],
      }

      $('#bb-bookblock').bookblock({
        speed : 1000,
        shadowSides : 0.8,
        shadowFlip : 0.4,

        onEndFlip : function(previousPage, newPage, isLimit) {
          currentPage = newPage;

          var song = songList[newPage];

          if (song) {
            $('.js-song').hide();
            $(song).show();
          }

          return false;
        }
      });

      $(document).on('click', '.js-next', function() {
        codes = codeList[currentPage]

        if (codes) {
          var keys = new Keys(codes, {
            success: function() {
              $('#bb-bookblock').bookblock("next");
            },

            failure: function() {
              $('.modal').toggleClass('shake');

              setTimeout(function() {
                $('.modal').removeClass('shake');
              }, 100);

              keys.prompt();
            }
          });

          keys.prompt();
        } else {
          $('#bb-bookblock').bookblock("next");
        }
      });

      $(document).on('click', '.js-prev', function() {
        $('#bb-bookblock').bookblock("prev");
      });
    })
  </script>
</body>
</html>
